# .github/workflows/ci.yml

name: CI

on:
push:
branches: \[ main, develop ]
pull\_request:
branches: \[ main, develop ]

jobs:
build:
runs-on: ubuntu-latest

```
steps:
- name: Checkout code
  uses: actions/checkout@v3

- name: Set up PHP
  uses: shivammathur/setup-php@v2
  with:
    php-version: '8.2'

- name: Install dependencies
  run: |
    composer install --prefer-dist --no-progress --no-suggest

- name: Run tests
  run: |
    composer test

- name: Generate coverage report
  run: |
    phpunit --coverage-text --configuration phpunit.xml

- name: Upload coverage to Codecov
  uses: codecov/codecov-action@v3
  with:
    files: coverage.xml
```
